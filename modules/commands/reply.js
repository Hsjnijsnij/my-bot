var traloi1 = ["á» , lá»‡nh cá»§a mÃ¬nh lÃ : !",
  "Báº¡n gá»i mÃ¬nh cÃ³ viá»‡c gÃ¬ khÃ´ng?",
  "mÃ¬nh ráº¥t sáºµn lÃ²ng khi Ä‘Æ°á»£c phá»¥c vá»¥ báº¡n:3",
  "MÃ¬nh lÃ  ğ‘¸ğ˜¶ğ˜°ğ˜¤ğ˜‹ğ¾y , ráº¥t vui Ä‘Æ°á»£c báº¡n chÃº Ã½ tá»›i:3",
  "Báº¡n tag mÃ¬nh cÃ³ gÃ¬ khÃ´ng?",
  "Facebook admin: https://www.facebook.com/profile.php?id=100038740121428",
  "Náº¿u cÃ³ viá»‡c gÃ¬ thÃ¬ thÃ¬ liÃªn há»‡ admin nhÃ©:3",
  "Trong trÆ°á»ng há»£p bot khÃ´ng onl thÃ¬ nháº¯n tin vá»›i admin qua fb: https://www.facebook.com/profile.php?id=100038740121428",
  "CÃ³ váº¥n Ä‘á» gÃ¬ thÃ¬ hÃ£y ib admin",
  "Mua file bot ib mÃ¬nh: https://www.facebook.com/profile.php?id=100038740121428",
  "Bao phÃ²ng chá»¥y Ä‘i bÃ© Æ¡i",
  "Anh yÃªu em<3",
  "Chá»‹t Ä‘i:33",
  "Anh bao phÃ²ng bÃ© nha?",
  "Bá»‘ máº¹ em khÃ´ng cÃ³ nhÃ =))",
  "Biáº¿t chÃ o tÃ´i khÃ´ng? Ä‘á»“ tá»‡ báº¡c ",
  "Anh Ä‘á»«ng lÃ m váº­y!!!!!!",
  "Biáº¿t á»“n láº¯m khÃ´ng háº£?",
  "khÃ´ng biáº¿t im láº­ng Ã aa-.-",
  "á»’n Ã o quÃ¡ Ä‘i im láº·ng háº¿t, vá» nhÃ  mÃ  cÃ£i nhau!",
  "KhÃ´ng thá»ƒ cáº£n Ä‘Æ°á»£c bÆ°á»›c cá»§a ma gÃªm minh",
  "cÃ¹ng Ã½ chÃ­ sinh tá»“n Ä‘áº¿n say bu da Ä‘i bÃªn Ä‘á»“ng Ä‘á»™i hai ba sÃ´ng pha",
  "khÃ´ng Ä‘Æ°á»£c lÃ m váº­y ná»¯a nghe, máº¹ biáº¿t máº¹ bÃ¹n Ä‘Ã³",
   "Troi oi cuu toi co thang no doi hiep toi",
   "Cuu be:<",
    "cÃ¡c ngÆ°á»i báº¯t náº¡t ta huhu",
     "CÃ³ gÃ¬ khÃ´ng bÃ¢y bi?",
               "reply nhiá»u quÃ¡ dá»… gÃ¢y thoÃ¡i hÃ³a Ä‘Ã³",
               "500k bao phÃ²ng ha?",
               "Tráº£ láº¡i sá»± trong sáº¡ch cho taoooo",
               "sao may muon cai gi?",
               "may muá»‘n cÃ¡i gÃ¬ tá»« taoooo",
               "táº¡i sao dá»‹",
               "sao con nÃ³i dá»‹",
               "dá»«ng, dá»«ng láº¡i Ã¡ Ã¡",
               "cuu toi, nÃ³ Ä‘Ã²i hiep toi ne ba con oi",
               "sao cáº­u lÃ m tháº¿ vá»›i tá»›? biáº¿t Ã¡c láº¯m khÃ´ng háº£",
               "Ä‘Ãºt vÃ o Ä‘i cáº­u",
               "mÃ¬nh chá»‹u Ä‘Æ°á»£c mÃ , máº¡nh lÃªn cáº­u",
               "sao cáº­u yáº¿u tháº¿",
               "gÃ¬ cÃ³ 1phut Ä‘Ã£ ra rá»“i, cáº­u bá»‹ yáº¿u Ã =))?",
               "cáº­u yáº¿u xÃ¬u dá»‹",
               "Ä‘á»“ 30s",
               "yáº¿u=))",
               "sao cáº­u láº¡i lÃ m váº­y vá»›i tá»›",
               "cáº­u tháº­t Ä‘á»™c Ã¡c",
               "YÃªu em <3", 
               "Em lÃ  con bot cute nháº¥t <3", 
               "chÃ o báº¡n tÃ´i lÃ  bot", 
               "báº¡n gá»i tÃ´i cÃ³ viá»‡c gÃ¬?", 
               "tÃ´i yÃªu báº¡n vai lon", 
               "YÃªu em <3", 
               "Hi, chaÌ€o con vÆ¡Ì£ beÌ:3",
               "Chá»“ng goÌ£i coÌ viá»‡c giÌ€ khÃ´ng?", 
               "SÆ°Ì‰ duÌ£ng callad Ä‘ÃªÌ‰ liÃªn laÌ£c vÆ¡Ìi admin!", 
               "Em lÃ  bot cute nháº¥t hÃ nh tinh", 
               "NÃ³i gÃ¬ tháº¿ con lá»£n", 
               "Em Ä‘Ã¢y~~~~", 
               "YÃªu anh  nháº¥tğŸ’Ÿ", 
               "YÃªu thÆ°Æ¡ng admin nháº¥t",
               "Anh áº¥y lÃ  phá»¥ trá»£ cá»§a admin",
               "Sao tháº¿ cÃ´ng chÃºa", 
               "ChÄƒm chá»‰ há»c hÃ nh Ä‘i",
               "Bae Äƒn cÆ¡m chÆ°a?", 
               "Tuyá»ƒn phi cÃ´ng nÃ¨ áº¡",
               "LÃ m Ä‘Ä© khÃ´ng áº¡? dui láº¯m", 
               "Náº¿u cáº­u Ä‘ang cÃ´ Ä‘Æ¡n thÃ¬ chÃºng ta cÃ³ thá»ƒ thÃ nh Ä‘Ã´i :3", 
               "Äang lÃ m gÃ¬ váº­y?", 
               "ÄÆ°á»£c cá»§a lÃ³ :)))", 
               "Em dthw nhÆ° chá»§ cá»§a em áº¡", 
               "Äá»«ng khen em ngáº¡i quÃ¡ hÃ­ hÃ­" ,
               "LÃ m chá»“ng em khÃ´ng áº¡?", 
                "CÃºt ra", 
               "CÃ´ng chÃºa em sao Ä‘áº¥y?", 
               "CÃ³ gÃ¬ Äƒn khÃ´ng:(( Ä‘Ã³i quÃ¡aa", 
               "YÃªu cáº­u nhÆ° má»™t cá»±c hÃ¬nh\nNháº¥p lÃªn nháº¥p xuá»‘ng hai mÃ¬nh cÃ¹ng rÃªn", 
               "Spam cc cÃºt", 
               "YÃªu em khÃ´ng?", 
               "Chá»“ng em Ä‘Ã¢y rá»“i", 
               "MÃ y bá»‹ lÃ m sao Ã­@@", 
               "Báº¡n lÃ  nháº¥t!!!", 
               "KÃªu chi láº¯m tháº¿? Bá»™ thÃ­ch tao rá»“i Ã  :v", 
               "Cháº§n chá» gÃ¬ chá»“ng Æ¡i em Ä‘Ã¢yyy", 
               "Cháº§n chá» gÃ¬ vá»£ Æ¡i anh Ä‘Ã¢yyy", 
               "Em... Sao em láº¡i nÃ³i nhá»¯ng cÃ¡i lá»i Ä‘Ã³ chi zay em?", 
               "Tháº§y dáº¡y phá» ri mÃ aa", 
               "Yeu em rat nhieu ^^", 
               "Äá»“ con lá»£n lÃ¹n :))", 
               "Äá»£i xÃ­. Äi áº» cÃ¡i :()", 
               "500k bao phÃ²ng!!!", 
               "Yeu anh den luy ^^", 
               "Anh quÃ¡t em Ã ?\nNÃ³i to tháº¿ Ã¡?",
               "Tráº£ quáº§n cho em huhu", 
               "Baby, take my hand. I want you to be my husband. Cause you're my Iron Man. And I love you 3000 <3", 
                "cccccccccccccccccccc", 
               "Äá»«ng quÃ¡ yÃªu má»™t ai Ä‘Ã³, khi chÃ­nh báº£n thÃ¢n báº¡n váº«n bá»‹ tá»•n thÆ°Æ¡ng!", "Bae, em nhu bong hoa. Nhung nguoi hai dau phai ta ğŸ’”", 
                "HÃ£y gá»i cho admin tÃ´i Ä‘á»ƒ Ä‘Æ°á»£c yÃªu thÆ°Æ¡ng<3", 
               "HÃ¡t Ä‘i cho káº¹o ğŸ­"
];

var traloi2 = [
];

var traloi3 = [
  'abc',
  'xyz'
  //tráº£ lá»i báº±ng reply báº±ng cÃ¡i gÃ¬ thÃ¬ tÃ¹y thuá»™c vÃ o báº¡n
];

var phrases = [
  'hello bot',
  'hi bot',
  'hey bot',
  'bot'
];

var phrases1 = [
  'jqk'
  //náº¿u ná»™i dung Ä‘áº§u vÃ o báº±ng cÃ¡i gÃ¬ thÃ¬ tÃ¹y thuá»™c vÃ o báº¡n
];

function checkForSpecificPhrases(message, phrases) {
  for (let phrase of phrases) {
    if (message.toLowerCase().includes(phrase)) {
      return true; 
    }
  }
  return false;
}

function tagg() {
  var index = Math.floor(Math.random() * traloi1.length);
  return traloi1[index];
}

function replyy() {
  var index = Math.floor(Math.random() * traloi2.length);
  return traloi2[index];
}

function replyy3() {
  var index = Math.floor(Math.random() * traloi3.length);
  return traloi3[index];
}

const fs = require('fs');
const path = './commandStatus.json';

module.exports.config = {
  name: "reply",
  version: "4.0.0",
  hasPermssion: 3,
  credits: "Vtuan",//thay cre edit tá»™i mÃ¬nh láº¯m b Æ¡i
  description: "Cáº¥u hÃ¬nh cÃ¢u tráº£ lá»i tá»± Ä‘á»™ng",
  commandCategory: "Há»‡ Thá»‘ng",
  usages: "[on/off]",
  cooldowns: 5,
};
const { exec } = require('child_process');
module.exports.handleEvent = async function({ api, event,Users }) {
  if (event.senderID == api.getCurrentUserID()) return;
  const cmdStatus = JSON.parse(fs.readFileSync(path));
  const mentionedUserIds = Object.keys(event.mentions);
  const isBotMentioned = mentionedUserIds.includes(String(api.getCurrentUserID()));
  const isBotReplied = event.messageReply && event.messageReply.senderID == api.getCurrentUserID();
  const isSpecificPhrase = checkForSpecificPhrases(event.body, phrases);
  const isSpecificPhrase1 = checkForSpecificPhrases(event.body, phrases1);
  if (event.senderID == api.getCurrentUserID()) return;
  if(cmdStatus[this.config.name]) {
    if(isBotMentioned || isSpecificPhrase) {
      api.sendMessage(tagg(), event.threadID, event.messageID);
    }
    if(isSpecificPhrase1) {
      api.sendMessage(replyy3(), event.threadID, event.messageID);
    }
    if(isBotReplied) {
      api.sendMessage(replyy(), event.threadID, event.messageID);
    }
  }
};

module.exports.run = async function ({api, event, args}) {
  if(!fs.existsSync(path)) fs.writeFileSync(path, JSON.stringify({}));
  const commandStatus = JSON.parse(fs.readFileSync(path, 'utf-8'));
  switch (args[0]) {
    case "on":
      commandStatus[this.config.name] = true;
      api.sendMessage("ÄÃ£ báº­t chá»©c nÄƒng!", event.threadID);
      break;
    case "off":
      commandStatus[this.config.name] = false;
      api.sendMessage("ÄÃ£ táº¯t chá»©c nÄƒng!", event.threadID);
      break;
    default:
      api.sendMessage("Báº¡n cáº§n thÃªm 'on' hoáº·c 'off' sau lá»‡nh.", event.threadID, event.messageID);
  }
  fs.writeFileSync(path, JSON.stringify(commandStatus, null, 2));
};
